{"ast":null,"code":"'use strict';\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = function (str) {\n  return str.split(/ *; */).shift();\n};\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.params = function (str) {\n  return str.split(/ *; */).reduce(function (obj, str) {\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.parseLinks = function (str) {\n  return str.split(/ *, */).reduce(function (obj, str) {\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\n\nexports.cleanHeader = function (header, changesOrigin) {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header['host']; // secuirty\n\n  if (changesOrigin) {\n    delete header['authorization'];\n    delete header['cookie'];\n  }\n\n  return header;\n};","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/node_modules/superagent/lib/utils.js"],"names":["exports","type","str","split","shift","params","reduce","obj","parts","key","val","parseLinks","url","slice","rel","cleanHeader","header","changesOrigin"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,OAAO,CAACC,IAAR,GAAe,UAASC,GAAT,EAAa;AAC1B,SAAOA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBC,KAAnB,EAAP;AACD,CAFD;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAJ,OAAO,CAACK,MAAR,GAAiB,UAASH,GAAT,EAAa;AAC5B,SAAOA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBG,MAAnB,CAA0B,UAASC,GAAT,EAAcL,GAAd,EAAkB;AACjD,QAAIM,KAAK,GAAGN,GAAG,CAACC,KAAJ,CAAU,OAAV,CAAZ;AACA,QAAIM,GAAG,GAAGD,KAAK,CAACJ,KAAN,EAAV;AACA,QAAIM,GAAG,GAAGF,KAAK,CAACJ,KAAN,EAAV;AAEA,QAAIK,GAAG,IAAIC,GAAX,EAAgBH,GAAG,CAACE,GAAD,CAAH,GAAWC,GAAX;AAChB,WAAOH,GAAP;AACD,GAPM,EAOJ,EAPI,CAAP;AAQD,CATD;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAP,OAAO,CAACW,UAAR,GAAqB,UAAST,GAAT,EAAa;AAChC,SAAOA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBG,MAAnB,CAA0B,UAASC,GAAT,EAAcL,GAAd,EAAkB;AACjD,QAAIM,KAAK,GAAGN,GAAG,CAACC,KAAJ,CAAU,OAAV,CAAZ;AACA,QAAIS,GAAG,GAAGJ,KAAK,CAAC,CAAD,CAAL,CAASK,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAV;AACA,QAAIC,GAAG,GAAGN,KAAK,CAAC,CAAD,CAAL,CAASL,KAAT,CAAe,OAAf,EAAwB,CAAxB,EAA2BU,KAA3B,CAAiC,CAAjC,EAAoC,CAAC,CAArC,CAAV;AACAN,IAAAA,GAAG,CAACO,GAAD,CAAH,GAAWF,GAAX;AACA,WAAOL,GAAP;AACD,GANM,EAMJ,EANI,CAAP;AAOD,CARD;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAP,OAAO,CAACe,WAAR,GAAsB,UAASC,MAAT,EAAiBC,aAAjB,EAA+B;AACnD,SAAOD,MAAM,CAAC,cAAD,CAAb;AACA,SAAOA,MAAM,CAAC,gBAAD,CAAb;AACA,SAAOA,MAAM,CAAC,mBAAD,CAAb;AACA,SAAOA,MAAM,CAAC,MAAD,CAAb,CAJmD,CAKnD;;AACA,MAAIC,aAAJ,EAAmB;AACjB,WAAOD,MAAM,CAAC,eAAD,CAAb;AACA,WAAOA,MAAM,CAAC,QAAD,CAAb;AACD;;AACD,SAAOA,MAAP;AACD,CAXD","sourcesContent":["'use strict';\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = function(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = function(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = function(str){\n  return str.split(/ *, */).reduce(function(obj, str){\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = function(header, changesOrigin){\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header['host'];\n  // secuirty\n  if (changesOrigin) {\n    delete header['authorization'];\n    delete header['cookie'];\n  }\n  return header;\n};\n"]},"metadata":{},"sourceType":"script"}