{"ast":null,"code":"'use strict';\n\nvar AuthenticationRequest = require('./authentication-request'),\n    WebApiRequest = require('./webapi-request'),\n    HttpManager = require('./http-manager');\n\nfunction SpotifyWebApi(credentials) {\n  this._credentials = credentials || {};\n}\n\nSpotifyWebApi.prototype = {\n  setCredentials: function (credentials) {\n    for (var key in credentials) {\n      if (credentials.hasOwnProperty(key)) {\n        this._credentials[key] = credentials[key];\n      }\n    }\n  },\n  getCredentials: function () {\n    return this._credentials;\n  },\n  resetCredentials: function () {\n    this._credentials = null;\n  },\n  setClientId: function (clientId) {\n    this._setCredential('clientId', clientId);\n  },\n  setClientSecret: function (clientSecret) {\n    this._setCredential('clientSecret', clientSecret);\n  },\n  setAccessToken: function (accessToken) {\n    this._setCredential('accessToken', accessToken);\n  },\n  setRefreshToken: function (refreshToken) {\n    this._setCredential('refreshToken', refreshToken);\n  },\n  setRedirectURI: function (redirectUri) {\n    this._setCredential('redirectUri', redirectUri);\n  },\n  getRedirectURI: function () {\n    return this._getCredential('redirectUri');\n  },\n  getClientId: function () {\n    return this._getCredential('clientId');\n  },\n  getClientSecret: function () {\n    return this._getCredential('clientSecret');\n  },\n  getAccessToken: function () {\n    return this._getCredential('accessToken');\n  },\n  getRefreshToken: function () {\n    return this._getCredential('refreshToken');\n  },\n  resetClientId: function () {\n    this._resetCredential('clientId');\n  },\n  resetClientSecret: function () {\n    this._resetCredential('clientSecret');\n  },\n  resetAccessToken: function () {\n    this._resetCredential('accessToken');\n  },\n  resetRefreshToken: function () {\n    this._resetCredential('refreshToken');\n  },\n  resetRedirectURI: function () {\n    this._resetCredential('redirectUri');\n  },\n  _setCredential: function (credentialKey, value) {\n    this._credentials = this._credentials || {};\n    this._credentials[credentialKey] = value;\n  },\n  _getCredential: function (credentialKey) {\n    if (!this._credentials) {\n      return;\n    } else {\n      return this._credentials[credentialKey];\n    }\n  },\n  _resetCredential: function (credentialKey) {\n    if (!this._credentials) {\n      return;\n    } else {\n      this._credentials[credentialKey] = null;\n    }\n  },\n\n  /**\n   * Look up a track.\n   * @param {string} trackId The track's ID.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getTrack('3Qm86XLflmIXVm1wcwkgDK').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the track. Not returned if a callback is given.\n   */\n  getTrack: function (trackId, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/tracks/' + trackId).withQueryParameters(actualOptions).build().execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up several tracks.\n   * @param {string[]} trackIds The IDs of the artists.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtists(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artists. Not returned if a callback is given.\n   */\n  getTracks: function (trackIds, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/tracks').withQueryParameters({\n      ids: trackIds.join(',')\n    }, actualOptions).build().execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up an album.\n   * @param {string} albumId The album's ID.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbum('0sNOF9WDwhWunNAHPD3Baj').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the album. Not returned if a callback is given.\n   */\n  getAlbum: function (albumId, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/albums/' + albumId).withQueryParameters(actualOptions).build().execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up several albums.\n   * @param {string[]} albumIds The IDs of the albums.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbums(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the albums. Not returned if a callback is given.\n   */\n  getAlbums: function (albumIds, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/albums').withQueryParameters({\n      ids: albumIds.join(',')\n    }, actualOptions).build().execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up an artist.\n   * @param {string} artistId The artist's ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example api.getArtist('1u7kkVrr14iBvrpYnZILJR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artist. Not returned if a callback is given.\n   */\n  getArtist: function (artistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/artists/' + artistId).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Look up several artists.\n   * @param {string[]} artistIds The IDs of the artists.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtists(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artists. Not returned if a callback is given.\n   */\n  getArtists: function (artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/artists').withQueryParameters({\n      ids: artistIds.join(',')\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Search for music entities of certain types.\n   * @param {string} query The search query.\n   * @param {string[]} types An array of item types to search across.\n   * Valid types are: 'album', 'artist', 'playlist', and 'track'.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example search('Abba', ['track', 'playlist'], { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  search: function (query, types, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/search/').withQueryParameters({\n      type: types.join(','),\n      q: query\n    }, options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Search for an album.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchAlbums('Space Oddity', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchAlbums: function (query, options, callback) {\n    return this.search(query, ['album'], options, callback);\n  },\n\n  /**\n   * Search for an artist.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchArtists('David Bowie', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchArtists: function (query, options, callback) {\n    return this.search(query, ['artist'], options, callback);\n  },\n\n  /**\n   * Search for a track.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchTracks('Mr. Brightside', { limit : 3, offset : 2 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchTracks: function (query, options, callback) {\n    return this.search(query, ['track'], options, callback);\n  },\n\n  /**\n   * Search for playlists.\n   * @param {string} query The search query.\n   * @param {Object} options The possible options.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchPlaylists('workout', { limit : 1, offset : 0 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchPlaylists: function (query, options, callback) {\n    return this.search(query, ['playlist'], options, callback);\n  },\n\n  /**\n   * Get an artist's albums.\n   * @param {string} artistId The artist's ID.\n   * @options {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistAlbums('0oSGxfWSnnOXhD2fKuz2Gy', { album_type : 'album', country : 'GB', limit : 2, offset : 5 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the albums\n   *          for the given artist. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  getArtistAlbums: function (artistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/artists/' + artistId + '/albums').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the tracks of an album.\n   * @param albumId the album's ID.\n   * @options {Object} [options] The possible options, e.g. limit.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbumTracks('41MnTivkwTO3UUJ8DrqEJJ', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *                    tracks in the album. The result is paginated. If the promise is rejected.\n   *                    it contains an error object. Not returned if a callback is given.\n   */\n  getAlbumTracks: function (albumId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/albums/' + albumId + '/tracks').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get an artist's top tracks.\n   * @param {string} artistId The artist's ID.\n   * @param {string} country The country/territory where the tracks are most popular. (format: ISO 3166-1 alpha-2)\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistTopTracks('0oSGxfWSnnOXhD2fKuz2Gy', 'GB').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          artist's top tracks in the given country. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  getArtistTopTracks: function (artistId, country, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/artists/' + artistId + '/top-tracks').withQueryParameters({\n      country: country\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get related artists.\n   * @param {string} artistId The artist's ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistRelatedArtists('0oSGxfWSnnOXhD2fKuz2Gy').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          related artists. If the promise is rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getArtistRelatedArtists: function (artistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/artists/' + artistId + '/related-artists').build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get information about a user.\n   * @param userId The user ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getUser('thelinmichael').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the user. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getUser: function (userId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/users/' + encodeURIComponent(userId)).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get information about the user that has signed in (the current user).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getMe().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the user. The amount of information\n   *          depends on the permissions given by the user. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getMe: function (callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me').build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get a user's playlists.\n   * @param {string} userId An optional id of the user. If you know the Spotify URI it is easy\n   * to find the id (e.g. spotify:user:<here_is_the_id>). If not provided, the id of the user that granted\n   * the permissions will be used.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getUserPlaylists('thelinmichael').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of playlists. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getUserPlaylists: function (userId, options, callback) {\n    var path;\n\n    if (typeof userId === 'string') {\n      path = '/v1/users/' + encodeURIComponent(userId) + '/playlists';\n    } else if (typeof userId === 'object') {\n      callback = options;\n      options = userId;\n      path = '/v1/me/playlists';\n    }\n    /* undefined */\n    else {\n      path = '/v1/me/playlists';\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath(path).withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get a playlist.\n   * @param {string} playlistId The playlist's ID.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getPlaylist('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          the playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getPlaylist: function (playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId).withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get tracks in a playlist.\n   * @param {string} playlistId The playlist's ID.\n   * @param {Object} [options] Optional options, such as fields.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getPlaylistTracks('thelinmichael', '3ktAYNcRHpazJ9qecm3ptn').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object that containing\n   * the tracks in the playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getPlaylistTracks: function (playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Create a playlist.\n   * @param {string} userId The playlist's owner's user ID.\n   * @param {string} playlistName The name of the playlist.\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example createPlaylist('thelinmichael', 'My cool playlist!', { public : false }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing information about the\n   *          created playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  createPlaylist: function (userId, playlistName, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback;\n\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n    } else {\n      actualCallback = callback;\n    }\n\n    var actualOptions = {\n      name: playlistName\n    };\n\n    if (typeof options === 'object') {\n      Object.keys(options).forEach(function (key) {\n        actualOptions[key] = options[key];\n      });\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/users/' + encodeURIComponent(userId) + '/playlists').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(actualOptions).build().execute(HttpManager.post, actualCallback);\n  },\n\n  /**\n   * Follow a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  followPlaylist: function (playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/followers').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(options).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Unfollow a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  unfollowPlaylist: function (playlistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/followers').withHeaders({\n      'Content-Type': 'application/json'\n    }).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Change playlist details.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, e.g. name, public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example changePlaylistDetails('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK', {name: 'New name', public: true}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  changePlaylistDetails: function (playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId).withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(options).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Replace the image used to represent a specific playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {string} base64URI Base64 encoded JPEG image data, maximum payload size is 256 KB\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example uploadCustomPlaylistCoverImage('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK', 'longbase64uri').then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  uploadCustomPlaylistCoverImage: function (playlistId, base64URI, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/images').withHeaders({\n      'Content-Type': 'image/jpeg'\n    }).withBodyParameters(base64URI).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add tracks to a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {string[]} tracks URIs of the tracks to add to the playlist.\n   * @param {Object} [options] Options, position being the only one.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example addTracksToPlaylist('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK',\n              '[\"spotify:track:4iV5W9uYEdYUVa79Axb7Rh\", \"spotify:track:1301WleyT98MSxVHPZCA6M\"]').then(...)\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  addTracksToPlaylist: function (playlistId, tracks, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withQueryParameters(options).withBodyParameters({\n      uris: tracks\n    }).build().execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Remove tracks from a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object[]} tracks An array of objects containing a property called uri with the track URI (String), and\n   * a an optional property called positions (int[]), e.g. { uri : \"spotify:track:491rM2JN8KvmV6p0oDDuJT\", positions : [0, 15] }\n   * @param {Object} options Options, snapshot_id being the only one.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  removeTracksFromPlaylist: function (playlistId, tracks, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      tracks: tracks\n    }, options).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Remove tracks from a playlist by position instead of specifying the tracks' URIs.\n   * @param {string} playlistId The playlist's ID\n   * @param {int[]} positions The positions of the tracks in the playlist that should be removed\n   * @param {string} snapshot_id The snapshot ID, or version, of the playlist. Required\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  removeTracksFromPlaylistByPosition: function (playlistId, positions, snapshotId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      positions: positions,\n      snapshot_id: snapshotId\n    }).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Replace tracks in a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object[]} uris An array of track URIs (strings)\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  replaceTracksInPlaylist: function (playlistId, uris, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      uris: uris\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Reorder tracks in a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {int} rangeStart The position of the first track to be reordered.\n   * @param {int} insertBefore The position where the tracks should be inserted.\n   * @param {Object} options Optional parameters, i.e. range_length and snapshot_id.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  reorderTracksInPlaylist: function (playlistId, rangeStart, insertBefore, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/playlists/' + playlistId + '/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      range_start: rangeStart,\n      insert_before: insertBefore\n    }, options).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Get audio features for a single track identified by its unique Spotify ID.\n   * @param {string} trackId The track ID\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioFeaturesForTrack('38P3Q4QcdjQALGF2Z92BmR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio features. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioFeaturesForTrack: function (trackId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/audio-features/' + trackId).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get audio analysis for a single track identified by its unique Spotify ID.\n   * @param {string} trackId The track ID\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioAnalysisForTrack('38P3Q4QcdjQALGF2Z92BmR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio analysis. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioAnalysisForTrack: function (trackId, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/audio-analysis/' + trackId).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get audio features for multiple tracks identified by their unique Spotify ID.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioFeaturesForTracks(['38P3Q4QcdjQALGF2Z92BmR', '2HO2bnoMrpnZUbUqiilLHi']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio features for the tracks. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioFeaturesForTracks: function (trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/audio-features').withQueryParameters({\n      ids: trackIds.join(',')\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Create a playlist-style listening experience based on seed artists, tracks and genres.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getRecommendations({ min_energy: 0.4, seed_artists: ['6mfK6Q2tzLMEchAr0e9Uzu', '4DYFVNKZ1uixa6SQTvzQwJ'], min_popularity: 50 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of tracks and a list of seeds. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getRecommendations: function (options, callback) {\n    var _opts = {};\n    var optionsOfTypeArray = ['seed_artists', 'seed_genres', 'seed_tracks'];\n\n    for (var option in options) {\n      if (options.hasOwnProperty(option)) {\n        if (optionsOfTypeArray.indexOf(option) !== -1 && Object.prototype.toString.call(options[option]) === '[object Array]') {\n          _opts[option] = options[option].join(',');\n        } else {\n          _opts[option] = options[option];\n        }\n      }\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/recommendations').withQueryParameters(_opts).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a list of available genres seed parameter values for recommendations.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAvailableGenreSeeds().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of available genres to be used as seeds for recommendations.\n   *          If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAvailableGenreSeeds: function (callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/recommendations/available-genre-seeds').build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a URL where the user can give the application permissions.\n   * @param {string[]} scopes The scopes corresponding to the permissions the application needs.\n   * @param {string} state A parameter that you can use to maintain a value between the request and the callback to redirect_uri.It is useful to prevent CSRF exploits.\n   * @param {boolean} showDialog A parameter that you can use to force the user to approve the app on each login rather than being automatically redirected.\n   * @returns {string} The URL where the user can give application permissions.\n   */\n  createAuthorizeURL: function (scopes, state, showDialog) {\n    return AuthenticationRequest.builder().withPath('/authorize').withQueryParameters({\n      client_id: this.getClientId(),\n      response_type: 'code',\n      redirect_uri: this.getRedirectURI(),\n      scope: scopes.join('%20'),\n      state: state,\n      show_dialog: showDialog && !!showDialog\n    }).build().getURL();\n  },\n\n  /**\n   * Retrieve the tracks that are saved to the authenticated users Your Music library.\n   * @param {Object} [options] Options, being market, limit, and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which in turn contains\n   *          playlist track objects. Not returned if a callback is given.\n   */\n  getMySavedTracks: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/tracks').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if one or more tracks is already saved in the current Spotify user’s “Your Music” library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   * of the returned array's elements correspond to the track ID in the request.\n   * The boolean value of true indicates that the track is part of the user's library, otherwise false.\n   * Not returned if a callback is given.\n   */\n  containsMySavedTracks: function (trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/tracks/contains').withQueryParameters({\n      ids: trackIds.join(',')\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Remove a track from the authenticated user's Your Music library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error.\n   * Not returned if a callback is given.\n   */\n  removeFromMySavedTracks: function (trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      ids: trackIds\n    }).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Add a track from the authenticated user's Your Music library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error. Not returned if a callback is given.\n   */\n  addToMySavedTracks: function (trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/tracks').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      ids: trackIds\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Remove an album from the authenticated user's Your Music library.\n   * @param {string[]} albumIds The album IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error.\n   * Not returned if a callback is given.\n   */\n  removeFromMySavedAlbums: function (albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/albums').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(albumIds).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Add an album from the authenticated user's Your Music library.\n   * @param {string[]} albumIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error. Not returned if a callback is given.\n   */\n  addToMySavedAlbums: function (albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/albums').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(albumIds).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Retrieve the albums that are saved to the authenticated users Your Music library.\n   * @param {Object} [options] Options, being market, limit, and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which in turn contains\n   *          playlist album objects. Not returned if a callback is given.\n   */\n  getMySavedAlbums: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/albums').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if one or more albums is already saved in the current Spotify user’s “Your Music” library.\n   * @param {string[]} albumIds The album IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   * of the returned array's elements correspond to the album ID in the request.\n   * The boolean value of true indicates that the album is part of the user's library, otherwise false.\n   * Not returned if a callback is given.\n   */\n  containsMySavedAlbums: function (albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/albums/contains').withQueryParameters({\n      ids: albumIds.join(',')\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's top artists based on calculated affinity.\n   * @param {Object} [options] Options, being time_range, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of artists,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyTopArtists: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/top/artists').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's top tracks based on calculated affinity.\n   * @param {Object} [options] Options, being time_range, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyTopTracks: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/top/tracks').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Recently Played Tracks\n   * @param {Object} [options] Options, being type, after, limit, before.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyRecentlyPlayedTracks: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/recently-played').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Connect Devices\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyDevices: function (callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/devices').build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Currently Playing Track.\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyCurrentPlayingTrack: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/currently-playing').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Current Playback State\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyCurrentPlaybackState: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Transfer a User's Playback\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  transferMyPlayback: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player').withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters({\n      device_ids: options.deviceIds,\n      play: !!options.play\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Starts o Resumes the Current User's Playback\n   * @param {Object} [options] Options, being device_id, context_uri, offset, uris.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackResume({context_uri: 'spotify:album:5ht7ItJgpBH7W6vJ5BqpPr'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  play: function (options, callback) {\n    /*jshint camelcase: false */\n    var _options = options || {};\n\n    var queryParams = _options.device_id ? {\n      device_id: _options.device_id\n    } : null;\n    var postData = {};\n    ['context_uri', 'uris', 'offset'].forEach(function (field) {\n      if (field in _options) {\n        postData[field] = _options[field];\n      }\n    });\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/play').withQueryParameters(queryParams).withHeaders({\n      'Content-Type': 'application/json'\n    }).withBodyParameters(postData).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Pauses the Current User's Playback\n   * @param {Object} [options] Options, for now device_id,\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackPause().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  pause: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/pause')\n    /*jshint camelcase: false */\n    .withQueryParameters(options && options.device_id ? {\n      device_id: options.device_id\n    } : null).withHeaders({\n      'Content-Type': 'application/json'\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Skip the Current User's Playback To Previous Track\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackPrevious().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  skipToPrevious: function (callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/previous').withHeaders({\n      'Content-Type': 'application/json'\n    }).build().execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Skip the Current User's Playback To Next Track\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackNext().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  skipToNext: function (callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/next').withHeaders({\n      'Content-Type': 'application/json'\n    }).build().execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Seeks to the given position in the user’s currently playing track.\n   *\n   * @param {number} positionMs The position in milliseconds to seek to. Must be a positive number.\n   * @param {Object} options A JSON object with options that can be passed.\n   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first\n   * one is the error object (null if no error), and the second is the value if the request succeeded.\n   * @return {Object} Null if a callback is provided, a `Promise` object otherwise\n   */\n  seek: function (positionMs, options, callback) {\n    var params = {\n      /* jshint camelcase: false */\n      position_ms: positionMs\n    };\n\n    if (options && 'device_id' in options) {\n      /* jshint camelcase: false */\n      params.device_id = options.device_id;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/seek').withQueryParameters(params).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set Repeat Mode On The Current User's Playback\n   * @param {Object} [options] Options, being state (track, context, off).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackRepeat({state: 'context'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  setRepeat: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/repeat').withQueryParameters({\n      state: options.state || 'off'\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set Shuffle Mode On The Current User's Playback\n   * @param {Object} [options] Options, being state (true, false).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackShuffle({state: 'false'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  setShuffle: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/shuffle').withQueryParameters({\n      state: options.state || 'false'\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set the volume for the user’s current playback device.\n   *\n   * @param {number} volumePercent The volume to set. Must be a value from 0 to 100 inclusive.\n   * @param {Object} options A JSON object with options that can be passed.\n   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first\n   * one is the error object (null if no error), and the second is the value if the request succeeded.\n   * @return {Object} Null if a callback is provided, a `Promise` object otherwise\n   */\n  setVolume: function (volumePercent, options, callback) {\n    var params = {\n      /* jshint camelcase: false */\n      volume_percent: volumePercent\n    };\n\n    if (options && 'device_id' in options) {\n      /* jshint camelcase: false */\n      params.device_id = options.device_id;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/player/volume').withQueryParameters(params).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add the current user as a follower of one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to be followed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example followUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  followUsers: function (userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following').withQueryParameters({\n      ids: userIds.join(','),\n      type: 'user'\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add the current user as a follower of one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to be followed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example followArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  followArtists: function (artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following').withQueryParameters({\n      ids: artistIds.join(','),\n      type: 'artist'\n    }).build().execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Remove the current user as a follower of one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to be unfollowed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example unfollowUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  unfollowUsers: function (userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following').withQueryParameters({\n      ids: userIds.join(','),\n      type: 'user'\n    }).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Remove the current user as a follower of one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to be unfollowed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example unfollowArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  unfollowArtists: function (artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following').withQueryParameters({\n      ids: artistIds.join(','),\n      type: 'artist'\n    }).build().execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Check to see if the current user is following one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to check if are followed by the current user.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example isFollowingUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   *          of the returned array's elements correspond to the users IDs in the request.\n   *          The boolean value of true indicates that the user is following that user, otherwise is not.\n   *          Not returned if a callback is given.\n   */\n  isFollowingUsers: function (userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following/contains').withQueryParameters({\n      ids: userIds.join(','),\n      type: 'user'\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's followed artists.\n   * @param {Object} [options] Options, being after and limit.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * album objects. Not returned if a callback is given.\n   */\n  getFollowedArtists: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following').withHeaders({\n      'Content-Type': 'application/json'\n    }).withQueryParameters({\n      type: 'artist'\n    }, options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if users are following a playlist.\n   * @param {string} userId The playlist's owner's user ID\n   * @param {string} playlistId The playlist's ID\n   * @param {String[]} User IDs of the following users\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an array of booleans. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  areFollowingPlaylist: function (userId, playlistId, followerIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/users/' + encodeURIComponent(userId) + '/playlists/' + playlistId + '/followers/contains').withQueryParameters({\n      ids: followerIds.join(',')\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check to see if the current user is following one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to check if are followed by the current user.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example isFollowingArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   *          of the returned array's elements correspond to the artists IDs in the request.\n   *          The boolean value of true indicates that the user is following that artist, otherwise is not.\n   *          Not returned if a callback is given.\n   */\n  isFollowingArtists: function (artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/me/following/contains').withQueryParameters({\n      ids: artistIds.join(','),\n      type: 'artist'\n    }).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve new releases\n   * @param {Object} [options] Options, being country, limit and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * album objects. Not returned if a callback is given.\n   */\n  getNewReleases: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/browse/new-releases').withHeaders({\n      'Content-Type': 'application/json'\n    }).withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve featured playlists\n   * @param {Object} [options] Options, being country, locale, timestamp, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * featured playlists. Not returned if a callback is given.\n   */\n  getFeaturedPlaylists: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/browse/featured-playlists').withHeaders({\n      'Content-Type': 'application/json'\n    }).withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a list of categories used to tag items in Spotify (e.g. in the 'Browse' tab)\n   * @param {Object} [options] Options, being country, locale, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object of categories.\n   * Not returned if a callback is given.\n   */\n  getCategories: function (options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/browse/categories').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a category.\n   * @param {string} categoryId The id of the category to retrieve.\n   * @param {Object} [options] Options, being country, locale.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a category object.\n   * Not returned if a callback is given.\n   */\n  getCategory: function (categoryId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/browse/categories/' + categoryId).withQueryParameters(options).build().execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve playlists for a category.\n   * @param {string} categoryId The id of the category to retrieve playlists for.\n   * @param {Object} [options] Options, being country, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to a paging object containing simple playlists.\n   * Not returned if a callback is given.\n   */\n  getPlaylistsForCategory: function (categoryId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken()).withPath('/v1/browse/categories/' + categoryId + '/playlists').withQueryParameters(options).build().execute(HttpManager.get, callback);\n  }\n};\n\nSpotifyWebApi._addMethods = function (methods) {\n  for (var i in methods) {\n    if (methods.hasOwnProperty(i)) {\n      this.prototype[i] = methods[i];\n    }\n  }\n};\n\nmodule.exports = SpotifyWebApi;","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/node_modules/spotify-web-api-node/src/spotify-web-api.js"],"names":["AuthenticationRequest","require","WebApiRequest","HttpManager","SpotifyWebApi","credentials","_credentials","prototype","setCredentials","key","hasOwnProperty","getCredentials","resetCredentials","setClientId","clientId","_setCredential","setClientSecret","clientSecret","setAccessToken","accessToken","setRefreshToken","refreshToken","setRedirectURI","redirectUri","getRedirectURI","_getCredential","getClientId","getClientSecret","getAccessToken","getRefreshToken","resetClientId","_resetCredential","resetClientSecret","resetAccessToken","resetRefreshToken","resetRedirectURI","credentialKey","value","getTrack","trackId","options","callback","actualCallback","actualOptions","builder","withPath","withQueryParameters","build","execute","get","getTracks","trackIds","ids","join","getAlbum","albumId","getAlbums","albumIds","getArtist","artistId","getArtists","artistIds","search","query","types","type","q","searchAlbums","searchArtists","searchTracks","searchPlaylists","getArtistAlbums","getAlbumTracks","getArtistTopTracks","country","getArtistRelatedArtists","getUser","userId","encodeURIComponent","getMe","getUserPlaylists","path","getPlaylist","playlistId","getPlaylistTracks","createPlaylist","playlistName","name","Object","keys","forEach","withHeaders","withBodyParameters","post","followPlaylist","put","unfollowPlaylist","del","changePlaylistDetails","uploadCustomPlaylistCoverImage","base64URI","addTracksToPlaylist","tracks","uris","removeTracksFromPlaylist","removeTracksFromPlaylistByPosition","positions","snapshotId","snapshot_id","replaceTracksInPlaylist","reorderTracksInPlaylist","rangeStart","insertBefore","range_start","insert_before","getAudioFeaturesForTrack","getAudioAnalysisForTrack","getAudioFeaturesForTracks","getRecommendations","_opts","optionsOfTypeArray","option","indexOf","toString","call","getAvailableGenreSeeds","createAuthorizeURL","scopes","state","showDialog","client_id","response_type","redirect_uri","scope","show_dialog","getURL","getMySavedTracks","containsMySavedTracks","removeFromMySavedTracks","addToMySavedTracks","removeFromMySavedAlbums","addToMySavedAlbums","getMySavedAlbums","containsMySavedAlbums","getMyTopArtists","getMyTopTracks","getMyRecentlyPlayedTracks","getMyDevices","getMyCurrentPlayingTrack","getMyCurrentPlaybackState","transferMyPlayback","device_ids","deviceIds","play","_options","queryParams","device_id","postData","field","pause","skipToPrevious","skipToNext","seek","positionMs","params","position_ms","setRepeat","setShuffle","setVolume","volumePercent","volume_percent","followUsers","userIds","followArtists","unfollowUsers","unfollowArtists","isFollowingUsers","getFollowedArtists","areFollowingPlaylist","followerIds","isFollowingArtists","getNewReleases","getFeaturedPlaylists","getCategories","getCategory","categoryId","getPlaylistsForCategory","_addMethods","methods","i","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar AuthenticationRequest = require('./authentication-request'),\n  WebApiRequest = require('./webapi-request'),\n  HttpManager = require('./http-manager');\n\nfunction SpotifyWebApi(credentials) {\n  this._credentials = credentials || {};\n}\n\nSpotifyWebApi.prototype = {\n  setCredentials: function(credentials) {\n    for (var key in credentials) {\n      if (credentials.hasOwnProperty(key)) {\n        this._credentials[key] = credentials[key];\n      }\n    }\n  },\n\n  getCredentials: function() {\n    return this._credentials;\n  },\n\n  resetCredentials: function() {\n    this._credentials = null;\n  },\n\n  setClientId: function(clientId) {\n    this._setCredential('clientId', clientId);\n  },\n\n  setClientSecret: function(clientSecret) {\n    this._setCredential('clientSecret', clientSecret);\n  },\n\n  setAccessToken: function(accessToken) {\n    this._setCredential('accessToken', accessToken);\n  },\n\n  setRefreshToken: function(refreshToken) {\n    this._setCredential('refreshToken', refreshToken);\n  },\n\n  setRedirectURI: function(redirectUri) {\n    this._setCredential('redirectUri', redirectUri);\n  },\n\n  getRedirectURI: function() {\n    return this._getCredential('redirectUri');\n  },\n\n  getClientId: function() {\n    return this._getCredential('clientId');\n  },\n\n  getClientSecret: function() {\n    return this._getCredential('clientSecret');\n  },\n\n  getAccessToken: function() {\n    return this._getCredential('accessToken');\n  },\n\n  getRefreshToken: function() {\n    return this._getCredential('refreshToken');\n  },\n\n  resetClientId: function() {\n    this._resetCredential('clientId');\n  },\n\n  resetClientSecret: function() {\n    this._resetCredential('clientSecret');\n  },\n\n  resetAccessToken: function() {\n    this._resetCredential('accessToken');\n  },\n\n  resetRefreshToken: function() {\n    this._resetCredential('refreshToken');\n  },\n\n  resetRedirectURI: function() {\n    this._resetCredential('redirectUri');\n  },\n\n  _setCredential: function(credentialKey, value) {\n    this._credentials = this._credentials || {};\n    this._credentials[credentialKey] = value;\n  },\n\n  _getCredential: function(credentialKey) {\n    if (!this._credentials) {\n      return;\n    } else {\n      return this._credentials[credentialKey];\n    }\n  },\n\n  _resetCredential: function(credentialKey) {\n    if (!this._credentials) {\n      return;\n    } else {\n      this._credentials[credentialKey] = null;\n    }\n  },\n\n  /**\n   * Look up a track.\n   * @param {string} trackId The track's ID.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getTrack('3Qm86XLflmIXVm1wcwkgDK').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the track. Not returned if a callback is given.\n   */\n  getTrack: function(trackId, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/tracks/' + trackId)\n      .withQueryParameters(actualOptions)\n      .build()\n      .execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up several tracks.\n   * @param {string[]} trackIds The IDs of the artists.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtists(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artists. Not returned if a callback is given.\n   */\n  getTracks: function(trackIds, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/tracks')\n      .withQueryParameters(\n        {\n          ids: trackIds.join(',')\n        },\n        actualOptions\n      )\n      .build()\n      .execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up an album.\n   * @param {string} albumId The album's ID.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbum('0sNOF9WDwhWunNAHPD3Baj').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the album. Not returned if a callback is given.\n   */\n  getAlbum: function(albumId, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/albums/' + albumId)\n      .withQueryParameters(actualOptions)\n      .build()\n      .execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up several albums.\n   * @param {string[]} albumIds The IDs of the albums.\n   * @param {Object} [options] The possible options, currently only market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbums(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the albums. Not returned if a callback is given.\n   */\n  getAlbums: function(albumIds, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback, actualOptions;\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n      actualOptions = {};\n    } else {\n      actualCallback = callback;\n      actualOptions = options;\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/albums')\n      .withQueryParameters(\n        {\n          ids: albumIds.join(',')\n        },\n        actualOptions\n      )\n      .build()\n      .execute(HttpManager.get, actualCallback);\n  },\n\n  /**\n   * Look up an artist.\n   * @param {string} artistId The artist's ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example api.getArtist('1u7kkVrr14iBvrpYnZILJR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artist. Not returned if a callback is given.\n   */\n  getArtist: function(artistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/artists/' + artistId)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Look up several artists.\n   * @param {string[]} artistIds The IDs of the artists.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtists(['0oSGxfWSnnOXhD2fKuz2Gy', '3dBVyJ7JuOMt4GE9607Qin']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing information\n   *          about the artists. Not returned if a callback is given.\n   */\n  getArtists: function(artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/artists')\n      .withQueryParameters({\n        ids: artistIds.join(',')\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Search for music entities of certain types.\n   * @param {string} query The search query.\n   * @param {string[]} types An array of item types to search across.\n   * Valid types are: 'album', 'artist', 'playlist', and 'track'.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example search('Abba', ['track', 'playlist'], { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  search: function(query, types, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/search/')\n      .withQueryParameters(\n        {\n          type: types.join(','),\n          q: query\n        },\n        options\n      )\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Search for an album.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchAlbums('Space Oddity', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchAlbums: function(query, options, callback) {\n    return this.search(query, ['album'], options, callback);\n  },\n\n  /**\n   * Search for an artist.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchArtists('David Bowie', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchArtists: function(query, options, callback) {\n    return this.search(query, ['artist'], options, callback);\n  },\n\n  /**\n   * Search for a track.\n   * @param {string} query The search query.\n   * @param {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchTracks('Mr. Brightside', { limit : 3, offset : 2 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchTracks: function(query, options, callback) {\n    return this.search(query, ['track'], options, callback);\n  },\n\n  /**\n   * Search for playlists.\n   * @param {string} query The search query.\n   * @param {Object} options The possible options.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example searchPlaylists('workout', { limit : 1, offset : 0 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          search results. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  searchPlaylists: function(query, options, callback) {\n    return this.search(query, ['playlist'], options, callback);\n  },\n\n  /**\n   * Get an artist's albums.\n   * @param {string} artistId The artist's ID.\n   * @options {Object} [options] The possible options, e.g. limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistAlbums('0oSGxfWSnnOXhD2fKuz2Gy', { album_type : 'album', country : 'GB', limit : 2, offset : 5 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the albums\n   *          for the given artist. The result is paginated. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  getArtistAlbums: function(artistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/artists/' + artistId + '/albums')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the tracks of an album.\n   * @param albumId the album's ID.\n   * @options {Object} [options] The possible options, e.g. limit.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAlbumTracks('41MnTivkwTO3UUJ8DrqEJJ', { limit : 5, offset : 1 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *                    tracks in the album. The result is paginated. If the promise is rejected.\n   *                    it contains an error object. Not returned if a callback is given.\n   */\n  getAlbumTracks: function(albumId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/albums/' + albumId + '/tracks')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get an artist's top tracks.\n   * @param {string} artistId The artist's ID.\n   * @param {string} country The country/territory where the tracks are most popular. (format: ISO 3166-1 alpha-2)\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistTopTracks('0oSGxfWSnnOXhD2fKuz2Gy', 'GB').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          artist's top tracks in the given country. If the promise is rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  getArtistTopTracks: function(artistId, country, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/artists/' + artistId + '/top-tracks')\n      .withQueryParameters({\n        country: country\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get related artists.\n   * @param {string} artistId The artist's ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getArtistRelatedArtists('0oSGxfWSnnOXhD2fKuz2Gy').then(...)\n   * @returns {Promise|undefined} A promise that if successful, returns an object containing the\n   *          related artists. If the promise is rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getArtistRelatedArtists: function(artistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/artists/' + artistId + '/related-artists')\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get information about a user.\n   * @param userId The user ID.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getUser('thelinmichael').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the user. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getUser: function(userId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/users/' + encodeURIComponent(userId))\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get information about the user that has signed in (the current user).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getMe().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the user. The amount of information\n   *          depends on the permissions given by the user. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getMe: function(callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me')\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get a user's playlists.\n   * @param {string} userId An optional id of the user. If you know the Spotify URI it is easy\n   * to find the id (e.g. spotify:user:<here_is_the_id>). If not provided, the id of the user that granted\n   * the permissions will be used.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getUserPlaylists('thelinmichael').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of playlists. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getUserPlaylists: function(userId, options, callback) {\n    var path;\n    if (typeof userId === 'string') {\n      path = '/v1/users/' + encodeURIComponent(userId) + '/playlists';\n    } else if (typeof userId === 'object') {\n      callback = options;\n      options = userId;\n      path = '/v1/me/playlists';\n    } /* undefined */ else {\n      path = '/v1/me/playlists';\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath(path)\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get a playlist.\n   * @param {string} playlistId The playlist's ID.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getPlaylist('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          the playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getPlaylist: function(playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId)\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get tracks in a playlist.\n   * @param {string} playlistId The playlist's ID.\n   * @param {Object} [options] Optional options, such as fields.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getPlaylistTracks('thelinmichael', '3ktAYNcRHpazJ9qecm3ptn').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object that containing\n   * the tracks in the playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getPlaylistTracks: function(playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Create a playlist.\n   * @param {string} userId The playlist's owner's user ID.\n   * @param {string} playlistName The name of the playlist.\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example createPlaylist('thelinmichael', 'My cool playlist!', { public : false }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing information about the\n   *          created playlist. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  createPlaylist: function(userId, playlistName, options, callback) {\n    // In case someone is using a version where options parameter did not exist.\n    var actualCallback;\n    if (typeof options === 'function' && !callback) {\n      actualCallback = options;\n    } else {\n      actualCallback = callback;\n    }\n\n    var actualOptions = { name: playlistName };\n    if (typeof options === 'object') {\n      Object.keys(options).forEach(function(key) {\n        actualOptions[key] = options[key];\n      });\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/users/' + encodeURIComponent(userId) + '/playlists')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(actualOptions)\n      .build()\n      .execute(HttpManager.post, actualCallback);\n  },\n\n  /**\n   * Follow a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  followPlaylist: function(playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/followers')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(options)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Unfollow a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, currently only public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  unfollowPlaylist: function(playlistId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/followers')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Change playlist details.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object} [options] The possible options, e.g. name, public.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example changePlaylistDetails('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK', {name: 'New name', public: true}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  changePlaylistDetails: function(playlistId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId)\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(options)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Replace the image used to represent a specific playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {string} base64URI Base64 encoded JPEG image data, maximum payload size is 256 KB\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example uploadCustomPlaylistCoverImage('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK', 'longbase64uri').then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  uploadCustomPlaylistCoverImage: function(playlistId, base64URI, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/images')\n      .withHeaders({ 'Content-Type': 'image/jpeg' })\n      .withBodyParameters(base64URI)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add tracks to a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {string[]} tracks URIs of the tracks to add to the playlist.\n   * @param {Object} [options] Options, position being the only one.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example addTracksToPlaylist('thelinmichael', '3EsfV6XzCHU8SPNdbnFogK',\n              '[\"spotify:track:4iV5W9uYEdYUVa79Axb7Rh\", \"spotify:track:1301WleyT98MSxVHPZCA6M\"]').then(...)\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  addTracksToPlaylist: function(playlistId, tracks, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withQueryParameters(options)\n      .withBodyParameters({\n        uris: tracks\n      })\n      .build()\n      .execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Remove tracks from a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object[]} tracks An array of objects containing a property called uri with the track URI (String), and\n   * a an optional property called positions (int[]), e.g. { uri : \"spotify:track:491rM2JN8KvmV6p0oDDuJT\", positions : [0, 15] }\n   * @param {Object} options Options, snapshot_id being the only one.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  removeTracksFromPlaylist: function(playlistId, tracks, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(\n        {\n          tracks: tracks\n        },\n        options\n      )\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Remove tracks from a playlist by position instead of specifying the tracks' URIs.\n   * @param {string} playlistId The playlist's ID\n   * @param {int[]} positions The positions of the tracks in the playlist that should be removed\n   * @param {string} snapshot_id The snapshot ID, or version, of the playlist. Required\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  removeTracksFromPlaylistByPosition: function(\n    playlistId,\n    positions,\n    snapshotId,\n    callback\n  ) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters({\n        positions: positions,\n        snapshot_id: snapshotId\n      })\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Replace tracks in a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {Object[]} uris An array of track URIs (strings)\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an empty object. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  replaceTracksInPlaylist: function(playlistId, uris, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters({\n        uris: uris\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Reorder tracks in a playlist.\n   * @param {string} playlistId The playlist's ID\n   * @param {int} rangeStart The position of the first track to be reordered.\n   * @param {int} insertBefore The position where the tracks should be inserted.\n   * @param {Object} options Optional parameters, i.e. range_length and snapshot_id.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an object containing a snapshot_id. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  reorderTracksInPlaylist: function(\n    playlistId,\n    rangeStart,\n    insertBefore,\n    options,\n    callback\n  ) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/playlists/' + playlistId + '/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(\n        {\n          range_start: rangeStart,\n          insert_before: insertBefore\n        },\n        options\n      )\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Get audio features for a single track identified by its unique Spotify ID.\n   * @param {string} trackId The track ID\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioFeaturesForTrack('38P3Q4QcdjQALGF2Z92BmR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio features. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioFeaturesForTrack: function(trackId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/audio-features/' + trackId)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get audio analysis for a single track identified by its unique Spotify ID.\n   * @param {string} trackId The track ID\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioAnalysisForTrack('38P3Q4QcdjQALGF2Z92BmR').then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio analysis. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioAnalysisForTrack: function(trackId, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/audio-analysis/' + trackId)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get audio features for multiple tracks identified by their unique Spotify ID.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAudioFeaturesForTracks(['38P3Q4QcdjQALGF2Z92BmR', '2HO2bnoMrpnZUbUqiilLHi']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object\n   *          containing information about the audio features for the tracks. If the promise is\n   *          rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAudioFeaturesForTracks: function(trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/audio-features')\n      .withQueryParameters({\n        ids: trackIds.join(',')\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Create a playlist-style listening experience based on seed artists, tracks and genres.\n   * @param {Object} [options] The options supplied to this request.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getRecommendations({ min_energy: 0.4, seed_artists: ['6mfK6Q2tzLMEchAr0e9Uzu', '4DYFVNKZ1uixa6SQTvzQwJ'], min_popularity: 50 }).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of tracks and a list of seeds. If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getRecommendations: function(options, callback) {\n    var _opts = {};\n    var optionsOfTypeArray = ['seed_artists', 'seed_genres', 'seed_tracks'];\n    for (var option in options) {\n      if (options.hasOwnProperty(option)) {\n        if (\n          optionsOfTypeArray.indexOf(option) !== -1 &&\n          Object.prototype.toString.call(options[option]) === '[object Array]'\n        ) {\n          _opts[option] = options[option].join(',');\n        } else {\n          _opts[option] = options[option];\n        }\n      }\n    }\n\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/recommendations')\n      .withQueryParameters(_opts)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a list of available genres seed parameter values for recommendations.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example getAvailableGenreSeeds().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing\n   *          a list of available genres to be used as seeds for recommendations.\n   *          If rejected, it contains an error object. Not returned if a callback is given.\n   */\n  getAvailableGenreSeeds: function(callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/recommendations/available-genre-seeds')\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a URL where the user can give the application permissions.\n   * @param {string[]} scopes The scopes corresponding to the permissions the application needs.\n   * @param {string} state A parameter that you can use to maintain a value between the request and the callback to redirect_uri.It is useful to prevent CSRF exploits.\n   * @param {boolean} showDialog A parameter that you can use to force the user to approve the app on each login rather than being automatically redirected.\n   * @returns {string} The URL where the user can give application permissions.\n   */\n  createAuthorizeURL: function(scopes, state, showDialog) {\n    return AuthenticationRequest.builder()\n      .withPath('/authorize')\n      .withQueryParameters({\n        client_id: this.getClientId(),\n        response_type: 'code',\n        redirect_uri: this.getRedirectURI(),\n        scope: scopes.join('%20'),\n        state: state,\n        show_dialog: showDialog && !!showDialog\n      })\n      .build()\n      .getURL();\n  },\n\n  /**\n   * Retrieve the tracks that are saved to the authenticated users Your Music library.\n   * @param {Object} [options] Options, being market, limit, and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which in turn contains\n   *          playlist track objects. Not returned if a callback is given.\n   */\n  getMySavedTracks: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/tracks')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if one or more tracks is already saved in the current Spotify user’s “Your Music” library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   * of the returned array's elements correspond to the track ID in the request.\n   * The boolean value of true indicates that the track is part of the user's library, otherwise false.\n   * Not returned if a callback is given.\n   */\n  containsMySavedTracks: function(trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/tracks/contains')\n      .withQueryParameters({\n        ids: trackIds.join(',')\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Remove a track from the authenticated user's Your Music library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error.\n   * Not returned if a callback is given.\n   */\n  removeFromMySavedTracks: function(trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters({ ids: trackIds })\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Add a track from the authenticated user's Your Music library.\n   * @param {string[]} trackIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error. Not returned if a callback is given.\n   */\n  addToMySavedTracks: function(trackIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/tracks')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters({ ids: trackIds })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Remove an album from the authenticated user's Your Music library.\n   * @param {string[]} albumIds The album IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error.\n   * Not returned if a callback is given.\n   */\n  removeFromMySavedAlbums: function(albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/albums')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(albumIds)\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Add an album from the authenticated user's Your Music library.\n   * @param {string[]} albumIds The track IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns null, otherwise an error. Not returned if a callback is given.\n   */\n  addToMySavedAlbums: function(albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/albums')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(albumIds)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Retrieve the albums that are saved to the authenticated users Your Music library.\n   * @param {Object} [options] Options, being market, limit, and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which in turn contains\n   *          playlist album objects. Not returned if a callback is given.\n   */\n  getMySavedAlbums: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/albums')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if one or more albums is already saved in the current Spotify user’s “Your Music” library.\n   * @param {string[]} albumIds The album IDs\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   * of the returned array's elements correspond to the album ID in the request.\n   * The boolean value of true indicates that the album is part of the user's library, otherwise false.\n   * Not returned if a callback is given.\n   */\n  containsMySavedAlbums: function(albumIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/albums/contains')\n      .withQueryParameters({\n        ids: albumIds.join(',')\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's top artists based on calculated affinity.\n   * @param {Object} [options] Options, being time_range, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of artists,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyTopArtists: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/top/artists')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's top tracks based on calculated affinity.\n   * @param {Object} [options] Options, being time_range, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyTopTracks: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/top/tracks')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Recently Played Tracks\n   * @param {Object} [options] Options, being type, after, limit, before.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyRecentlyPlayedTracks: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/recently-played')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Connect Devices\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyDevices: function(callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/devices')\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Currently Playing Track.\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyCurrentPlayingTrack: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/currently-playing')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the Current User's Current Playback State\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  getMyCurrentPlaybackState: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Transfer a User's Playback\n   * @param {Object} [options] Options, being market.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  transferMyPlayback: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters({\n        device_ids: options.deviceIds,\n        play: !!options.play\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Starts o Resumes the Current User's Playback\n   * @param {Object} [options] Options, being device_id, context_uri, offset, uris.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackResume({context_uri: 'spotify:album:5ht7ItJgpBH7W6vJ5BqpPr'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  play: function(options, callback) {\n    /*jshint camelcase: false */\n    var _options = options || {};\n    var queryParams = _options.device_id\n      ? { device_id: _options.device_id }\n      : null;\n    var postData = {};\n    ['context_uri', 'uris', 'offset'].forEach(function(field) {\n      if (field in _options) {\n        postData[field] = _options[field];\n      }\n    });\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/play')\n      .withQueryParameters(queryParams)\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withBodyParameters(postData)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Pauses the Current User's Playback\n   * @param {Object} [options] Options, for now device_id,\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackPause().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  pause: function(options, callback) {\n    return (\n      WebApiRequest.builder(this.getAccessToken())\n        .withPath('/v1/me/player/pause')\n        /*jshint camelcase: false */\n        .withQueryParameters(\n          options && options.device_id ? { device_id: options.device_id } : null\n        )\n        .withHeaders({ 'Content-Type': 'application/json' })\n        .build()\n        .execute(HttpManager.put, callback)\n    );\n  },\n\n  /**\n   * Skip the Current User's Playback To Previous Track\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackPrevious().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  skipToPrevious: function(callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/previous')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .build()\n      .execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Skip the Current User's Playback To Next Track\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackNext().then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  skipToNext: function(callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/next')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .build()\n      .execute(HttpManager.post, callback);\n  },\n\n  /**\n   * Seeks to the given position in the user’s currently playing track.\n   *\n   * @param {number} positionMs The position in milliseconds to seek to. Must be a positive number.\n   * @param {Object} options A JSON object with options that can be passed.\n   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first\n   * one is the error object (null if no error), and the second is the value if the request succeeded.\n   * @return {Object} Null if a callback is provided, a `Promise` object otherwise\n   */\n  seek: function(positionMs, options, callback) {\n    var params = {\n      /* jshint camelcase: false */\n      position_ms: positionMs\n    };\n    if (options && 'device_id' in options) {\n      /* jshint camelcase: false */\n      params.device_id = options.device_id;\n    }\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/seek')\n      .withQueryParameters(params)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set Repeat Mode On The Current User's Playback\n   * @param {Object} [options] Options, being state (track, context, off).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackRepeat({state: 'context'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  setRepeat: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/repeat')\n      .withQueryParameters({\n        state: options.state || 'off'\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set Shuffle Mode On The Current User's Playback\n   * @param {Object} [options] Options, being state (true, false).\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example playbackShuffle({state: 'false'}).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into a paging object of tracks,\n   *          otherwise an error. Not returned if a callback is given.\n   */\n  setShuffle: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/shuffle')\n      .withQueryParameters({\n        state: options.state || 'false'\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Set the volume for the user’s current playback device.\n   *\n   * @param {number} volumePercent The volume to set. Must be a value from 0 to 100 inclusive.\n   * @param {Object} options A JSON object with options that can be passed.\n   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first\n   * one is the error object (null if no error), and the second is the value if the request succeeded.\n   * @return {Object} Null if a callback is provided, a `Promise` object otherwise\n   */\n  setVolume: function(volumePercent, options, callback) {\n    var params = {\n      /* jshint camelcase: false */\n      volume_percent: volumePercent\n    };\n    if (options && 'device_id' in options) {\n      /* jshint camelcase: false */\n      params.device_id = options.device_id;\n    }\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/player/volume')\n      .withQueryParameters(params)\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add the current user as a follower of one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to be followed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example followUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  followUsers: function(userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following')\n      .withQueryParameters({\n        ids: userIds.join(','),\n        type: 'user'\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Add the current user as a follower of one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to be followed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example followArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  followArtists: function(artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following')\n      .withQueryParameters({\n        ids: artistIds.join(','),\n        type: 'artist'\n      })\n      .build()\n      .execute(HttpManager.put, callback);\n  },\n\n  /**\n   * Remove the current user as a follower of one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to be unfollowed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example unfollowUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  unfollowUsers: function(userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following')\n      .withQueryParameters({\n        ids: userIds.join(','),\n        type: 'user'\n      })\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Remove the current user as a follower of one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to be unfollowed.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example unfollowArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, simply resolves to an empty object. If rejected,\n   *          it contains an error object. Not returned if a callback is given.\n   */\n  unfollowArtists: function(artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following')\n      .withQueryParameters({\n        ids: artistIds.join(','),\n        type: 'artist'\n      })\n      .build()\n      .execute(HttpManager.del, callback);\n  },\n\n  /**\n   * Check to see if the current user is following one or more other Spotify users.\n   * @param {string[]} userIds The IDs of the users to check if are followed by the current user.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example isFollowingUsers(['thelinmichael', 'wizzler']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   *          of the returned array's elements correspond to the users IDs in the request.\n   *          The boolean value of true indicates that the user is following that user, otherwise is not.\n   *          Not returned if a callback is given.\n   */\n  isFollowingUsers: function(userIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following/contains')\n      .withQueryParameters({\n        ids: userIds.join(','),\n        type: 'user'\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Get the current user's followed artists.\n   * @param {Object} [options] Options, being after and limit.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * album objects. Not returned if a callback is given.\n   */\n  getFollowedArtists: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withQueryParameters(\n        {\n          type: 'artist'\n        },\n        options\n      )\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check if users are following a playlist.\n   * @param {string} userId The playlist's owner's user ID\n   * @param {string} playlistId The playlist's ID\n   * @param {String[]} User IDs of the following users\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful returns an array of booleans. If rejected,\n   * it contains an error object. Not returned if a callback is given.\n   */\n  areFollowingPlaylist: function(userId, playlistId, followerIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath(\n        '/v1/users/' +\n          encodeURIComponent(userId) +\n          '/playlists/' +\n          playlistId +\n          '/followers/contains'\n      )\n      .withQueryParameters({\n        ids: followerIds.join(',')\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Check to see if the current user is following one or more artists.\n   * @param {string[]} artistIds The IDs of the artists to check if are followed by the current user.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @example isFollowingArtists(['0LcJLqbBmaGUft1e9Mm8HV', '3gqv1kgivAc92KnUm4elKv']).then(...)\n   * @returns {Promise|undefined} A promise that if successful, resolves into an array of booleans. The order\n   *          of the returned array's elements correspond to the artists IDs in the request.\n   *          The boolean value of true indicates that the user is following that artist, otherwise is not.\n   *          Not returned if a callback is given.\n   */\n  isFollowingArtists: function(artistIds, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/me/following/contains')\n      .withQueryParameters({\n        ids: artistIds.join(','),\n        type: 'artist'\n      })\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve new releases\n   * @param {Object} [options] Options, being country, limit and/or offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * album objects. Not returned if a callback is given.\n   */\n  getNewReleases: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/browse/new-releases')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve featured playlists\n   * @param {Object} [options] Options, being country, locale, timestamp, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains\n   * featured playlists. Not returned if a callback is given.\n   */\n  getFeaturedPlaylists: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/browse/featured-playlists')\n      .withHeaders({ 'Content-Type': 'application/json' })\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a list of categories used to tag items in Spotify (e.g. in the 'Browse' tab)\n   * @param {Object} [options] Options, being country, locale, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object of categories.\n   * Not returned if a callback is given.\n   */\n  getCategories: function(options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/browse/categories')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve a category.\n   * @param {string} categoryId The id of the category to retrieve.\n   * @param {Object} [options] Options, being country, locale.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a category object.\n   * Not returned if a callback is given.\n   */\n  getCategory: function(categoryId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/browse/categories/' + categoryId)\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  },\n\n  /**\n   * Retrieve playlists for a category.\n   * @param {string} categoryId The id of the category to retrieve playlists for.\n   * @param {Object} [options] Options, being country, limit, offset.\n   * @param {requestCallback} [callback] Optional callback method to be called instead of the promise.\n   * @returns {Promise|undefined} A promise that if successful, resolves to a paging object containing simple playlists.\n   * Not returned if a callback is given.\n   */\n  getPlaylistsForCategory: function(categoryId, options, callback) {\n    return WebApiRequest.builder(this.getAccessToken())\n      .withPath('/v1/browse/categories/' + categoryId + '/playlists')\n      .withQueryParameters(options)\n      .build()\n      .execute(HttpManager.get, callback);\n  }\n};\n\nSpotifyWebApi._addMethods = function(methods) {\n  for (var i in methods) {\n    if (methods.hasOwnProperty(i)) {\n      this.prototype[i] = methods[i];\n    }\n  }\n};\n\nmodule.exports = SpotifyWebApi;\n"]},"metadata":{},"sourceType":"script"}