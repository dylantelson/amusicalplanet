{"ast":null,"code":"import _slicedToArray from\"/home/dylan/MusicGuessr/a-musical-planet/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import MapData from\"./MapData.json\";import LeaderboardUser from\"./LeaderboardUser\";import\"./Leaderboard.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Leaderboard=function Leaderboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leaderboardStats=_useState2[0],setLeaderboardStats=_useState2[1];var _useState3=useState(\"worldEasy\"),_useState4=_slicedToArray(_useState3,2),chosenMap=_useState4[0],setChosenMap=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currPage=_useState6[0],setCurrPage=_useState6[1];useEffect(function(){axios(\"\".concat(process.env.REACT_APP_BACKEND_URI,\"/getLeaderboard\"),{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},method:\"GET\"}).then(function(leaderboardData){console.log(\"LEADERBOARD:\");console.log(leaderboardData);setLeaderboardStats(leaderboardData.data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboardContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboardHead\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Leaderboard\"}),/*#__PURE__*/_jsx(\"select\",{id:\"maplist\",onChange:function onChange(e){setChosenMap(e.target.value[0].toLowerCase()+e.target.value.slice(1).replaceAll(\" \",\"\"));setCurrPage(0);},children:MapData.map(function(map){return/*#__PURE__*/_jsx(\"option\",{value:map.name,children:map.name},map.name);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/next.png\",id:\"leftArrow\",className:currPage<=0?\"disabledArrow\":\"\",onClick:function onClick(){return currPage>0?setCurrPage(currPage-1):null;}}),/*#__PURE__*/_jsx(\"div\",{className:\"leaderboardUsers\",children:leaderboardStats[chosenMap]?leaderboardStats[chosenMap].slice(currPage*5,currPage*5+5).map(function(userData,rank){return/*#__PURE__*/_jsx(LeaderboardUser,{rank:currPage*5+rank+1,userData:userData,map:chosenMap},userData.userName+chosenMap+(currPage*5+rank+1));}):/*#__PURE__*/_jsx(\"h3\",{children:\"LOADING...\"})}),/*#__PURE__*/_jsx(\"img\",{src:\"/next.png\",id:\"rightArrow\",className:currPage>=4?\"disabledArrow\":\"\",onClick:function onClick(){return currPage<4?setCurrPage(currPage+1):null;}})]})]});};export default Leaderboard;","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/src/Leaderboard.js"],"names":["React","useState","useEffect","axios","MapData","LeaderboardUser","Leaderboard","leaderboardStats","setLeaderboardStats","chosenMap","setChosenMap","currPage","setCurrPage","process","env","REACT_APP_BACKEND_URI","headers","Accept","method","then","leaderboardData","console","log","data","e","target","value","toLowerCase","slice","replaceAll","map","name","userData","rank","userName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport MapData from \"./MapData.json\";\nimport LeaderboardUser from \"./LeaderboardUser\";\nimport \"./Leaderboard.scss\";\n\nconst Leaderboard = () => {\n  const [leaderboardStats, setLeaderboardStats] = useState([]);\n  const [chosenMap, setChosenMap] = useState(\"worldEasy\");\n  const [currPage, setCurrPage] = useState(0);\n\n  useEffect(() => {\n    axios(`${process.env.REACT_APP_BACKEND_URI}/getLeaderboard`, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"GET\",\n    }).then((leaderboardData) => {\n      console.log(\"LEADERBOARD:\");\n      console.log(leaderboardData);\n      setLeaderboardStats(leaderboardData.data);\n    });\n  }, []);\n\n  return (\n    <div className=\"leaderboardContainer\">\n      <div className=\"leaderboardHead\">\n        <h1>Leaderboard</h1>\n        <select\n          id=\"maplist\"\n          onChange={(e) => {\n            setChosenMap(\n              e.target.value[0].toLowerCase() +\n                e.target.value.slice(1).replaceAll(\" \", \"\")\n            );\n            setCurrPage(0);\n          }}\n        >\n          {MapData.map((map) => (\n            <option key={map.name} value={map.name}>\n              {map.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"leaderboard\">\n        <img\n          src=\"/next.png\"\n          id=\"leftArrow\"\n          className={currPage <= 0 ? \"disabledArrow\" : \"\"}\n          onClick={() => (currPage > 0 ? setCurrPage(currPage - 1) : null)}\n        />\n        <div className=\"leaderboardUsers\">\n          {leaderboardStats[chosenMap] ? (\n            leaderboardStats[chosenMap]\n              .slice(currPage * 5, currPage * 5 + 5)\n              .map((userData, rank) => (\n                <LeaderboardUser\n                  key={\n                    userData.userName + chosenMap + (currPage * 5 + rank + 1)\n                  }\n                  rank={currPage * 5 + rank + 1}\n                  userData={userData}\n                  map={chosenMap}\n                />\n              ))\n          ) : (\n            <h3>LOADING...</h3>\n          )}\n        </div>\n        <img\n          src=\"/next.png\"\n          id=\"rightArrow\"\n          className={currPage >= 4 ? \"disabledArrow\" : \"\"}\n          onClick={() => (currPage < 4 ? setCurrPage(currPage + 1) : null)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Leaderboard;\n"]},"metadata":{},"sourceType":"module"}