{"ast":null,"code":"import _slicedToArray from\"/home/dylan/MusicGuessr/a-musical-planet/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import\"./PersonalPage.scss\";import MapData from\"./MapData.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PersonalPage=function PersonalPage(){var _useParams=useParams(),userName=_useParams.userName;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(\"overall\"),_useState4=_slicedToArray(_useState3,2),chosenMap=_useState4[0],setChosenMap=_useState4[1];useEffect(function(){setChosenMap(\"overall\");axios(\"\".concat(process.env.REACT_APP_BACKEND_URI,\"/userData/\").concat(userName),{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},method:\"GET\"}).then(function(_ref){var data=_ref.data;return setUserData(data);});},[userName]);return/*#__PURE__*/_jsx(\"div\",{className:\"userPageContainer\",children:userData?/*#__PURE__*/_jsxs(\"div\",{className:\"userPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userHead\",children:[/*#__PURE__*/_jsx(\"img\",{src:userData.profilePicture,alt:\"User\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userName\",children:[/*#__PURE__*/_jsx(\"h1\",{children:userData.displayName}),/*#__PURE__*/_jsx(\"img\",{src:\"/flags/\"+(userData.country.length===2?userData.country.toLowerCase():userData.country.substring(0,2).toLowerCase())+\".svg\",alt:\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"statsHead\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Game Statistics\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"maplist\",value:chosenMap,onChange:function onChange(e){console.log(\"Changing value to\",e.target.value);setChosenMap(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"overall\",children:\"Overall\"},\"overall\"),MapData.map(function(map){return/*#__PURE__*/_jsx(\"option\",{value:map.name[0].toLowerCase()+map.name.slice(1).replaceAll(\" \",\"\"),children:map.name},map.name);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"statsBody\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Completed Games\"}),/*#__PURE__*/_jsx(\"h3\",{children:userData.stats.completedGames[chosenMap]?userData.stats.completedGames[chosenMap]:0})]}),/*#__PURE__*/_jsxs(\"div\",{className:chosenMap===\"overall\"?\"bestOverall\":\"\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Best Game\"}),chosenMap===\"overall\"?/*#__PURE__*/_jsx(\"h3\",{className:\"overallMaxScore\",children:userData.stats.maxScores.overall.score&&userData.stats.maxScores.overall.score!==0?\"\".concat(userData.stats.maxScores.overall.score,\" \\n (\").concat(userData.stats.maxScores.overall.map[0].toUpperCase()+userData.stats.maxScores.overall.map.slice(1).replace(/[A-Z]/,function(letter){return\" \"+letter;}),\")\"):0}):/*#__PURE__*/_jsx(\"h3\",{children:userData.stats.maxScores[chosenMap]?userData.stats.maxScores[chosenMap]:0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Average Game\"}),/*#__PURE__*/_jsx(\"h3\",{children:userData.stats.averageScores[chosenMap]?userData.stats.averageScores[chosenMap]:0})]})]})]})]}):/*#__PURE__*/_jsx(\"h3\",{children:\"LOADING...\"})});};export default PersonalPage;","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/src/PersonalPage.js"],"names":["React","useContext","useEffect","useState","useParams","axios","MapData","PersonalPage","userName","userData","setUserData","chosenMap","setChosenMap","process","env","REACT_APP_BACKEND_URI","headers","Accept","method","then","data","profilePicture","displayName","country","length","toLowerCase","substring","e","console","log","target","value","map","name","slice","replaceAll","stats","completedGames","maxScores","overall","score","toUpperCase","replace","letter","averageScores"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport \"./PersonalPage.scss\";\n\nimport MapData from \"./MapData.json\";\n\nconst PersonalPage = () => {\n  const { userName } = useParams();\n\n  const [userData, setUserData] = useState(null);\n\n  const [chosenMap, setChosenMap] = useState(\"overall\");\n\n  useEffect(() => {\n    setChosenMap(\"overall\");\n    axios(`${process.env.REACT_APP_BACKEND_URI}/userData/${userName}`, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"GET\",\n    }).then(({ data }) => setUserData(data));\n  }, [userName]);\n\n  return (\n    <div className=\"userPageContainer\">\n      {userData ? (\n        <div className=\"userPage\">\n          <div className=\"userHead\">\n            <img src={userData.profilePicture} alt=\"User\" />\n            <div className=\"userName\">\n              <h1>{userData.displayName}</h1>\n              <img\n                src={\n                  \"/flags/\" +\n                  (userData.country.length === 2\n                    ? userData.country.toLowerCase()\n                    : userData.country.substring(0, 2).toLowerCase()) +\n                  \".svg\"\n                }\n                alt=\"\"\n              />\n            </div>\n          </div>\n          <div className=\"stats\">\n            <div className=\"statsHead\">\n              <h2>Game Statistics</h2>\n              <select\n                id=\"maplist\"\n                value={chosenMap}\n                onChange={(e) => {\n                  console.log(\"Changing value to\", e.target.value);\n                  setChosenMap(e.target.value);\n                }}\n              >\n                <option key=\"overall\" value=\"overall\">\n                  Overall\n                </option>\n                {MapData.map((map) => (\n                  <option\n                    key={map.name}\n                    value={\n                      map.name[0].toLowerCase() +\n                      map.name.slice(1).replaceAll(\" \", \"\")\n                    }\n                  >\n                    {map.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"statsBody\">\n              <div>\n                <p>Completed Games</p>\n                <h3>\n                  {userData.stats.completedGames[chosenMap]\n                    ? userData.stats.completedGames[chosenMap]\n                    : 0}\n                </h3>\n              </div>\n              <div className={chosenMap === \"overall\" ? \"bestOverall\" : \"\"}>\n                <p>Best Game</p>\n                {chosenMap === \"overall\" ? (\n                  <h3 className=\"overallMaxScore\">\n                    {userData.stats.maxScores.overall.score &&\n                    userData.stats.maxScores.overall.score !== 0\n                      ? `${userData.stats.maxScores.overall.score} \\n (${\n                          userData.stats.maxScores.overall.map[0].toUpperCase() +\n                          userData.stats.maxScores.overall.map\n                            .slice(1)\n                            .replace(/[A-Z]/, (letter) => \" \" + letter)\n                        })`\n                      : 0}\n                  </h3>\n                ) : (\n                  <h3>\n                    {userData.stats.maxScores[chosenMap]\n                      ? userData.stats.maxScores[chosenMap]\n                      : 0}\n                  </h3>\n                )}\n              </div>\n              <div>\n                <p>Average Game</p>\n                <h3>\n                  {userData.stats.averageScores[chosenMap]\n                    ? userData.stats.averageScores[chosenMap]\n                    : 0}\n                </h3>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <h3>LOADING...</h3>\n      )}\n    </div>\n  );\n};\n\nexport default PersonalPage;\n"]},"metadata":{},"sourceType":"module"}