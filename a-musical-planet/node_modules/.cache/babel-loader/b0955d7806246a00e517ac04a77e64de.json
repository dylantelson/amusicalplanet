{"ast":null,"code":"var _jsxFileName = \"/home/dylan/MusicGuessr/a-musical-planet/src/Play.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Play = props => {\n  if (props.spotifyApi.access_token === null) res.redirect(\"/login\");\n  props.spotifyApi.getPlaylist(\"0s2RYa25RwXR5rDAMcpB3P\").then(function (data) {\n    //console.log('Track: ' + JSON.stringify(data.body));\n    let track = \"\";\n    let artist = \"\";\n\n    while (track === \"\") {\n      const chosenIndex = Math.floor(Math.random() * data.body.tracks.items.length);\n      const possibleTrack = data.body.tracks.items[chosenIndex].track.preview_url;\n\n      if (possibleTrack != null) {\n        track = possibleTrack;\n        artist = data.body.tracks.items[chosenIndex].track.artists[0].name;\n      }\n    } //const chosenIndex = Math.floor(Math.random() * data.body.tracks.items.length);\n    //console.log('URL: ' + data.body.tracks.items[0].preview_url);\n    //track = data.body.tracks.items[chosenIndex].track.preview_url;\n    //console.log(track);\n\n\n    currArtist = artist;\n    res.render(\"play.ejs\", {\n      track: track,\n      artist: artist\n    });\n  }, function (err) {\n    console.log(\"Something went wrong!\", err);\n    res.redirect(\"/login\");\n  });\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Play\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n};\n\n_c = Play;\nexport default Play;\n\nvar _c;\n\n$RefreshReg$(_c, \"Play\");","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/src/Play.js"],"names":["React","Play","props","spotifyApi","access_token","res","redirect","getPlaylist","then","data","track","artist","chosenIndex","Math","floor","random","body","tracks","items","length","possibleTrack","preview_url","artists","name","currArtist","render","err","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,MAAIA,KAAK,CAACC,UAAN,CAAiBC,YAAjB,KAAkC,IAAtC,EAA4CC,GAAG,CAACC,QAAJ,CAAa,QAAb;AAC5CJ,EAAAA,KAAK,CAACC,UAAN,CAAiBI,WAAjB,CAA6B,wBAA7B,EAAuDC,IAAvD,CACE,UAAUC,IAAV,EAAgB;AACd;AACA,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIC,MAAM,GAAG,EAAb;;AACA,WAAOD,KAAK,KAAK,EAAjB,EAAqB;AACnB,YAAME,WAAW,GAAGC,IAAI,CAACC,KAAL,CAClBD,IAAI,CAACE,MAAL,KAAgBN,IAAI,CAACO,IAAL,CAAUC,MAAV,CAAiBC,KAAjB,CAAuBC,MADrB,CAApB;AAGA,YAAMC,aAAa,GACjBX,IAAI,CAACO,IAAL,CAAUC,MAAV,CAAiBC,KAAjB,CAAuBN,WAAvB,EAAoCF,KAApC,CAA0CW,WAD5C;;AAEA,UAAID,aAAa,IAAI,IAArB,EAA2B;AACzBV,QAAAA,KAAK,GAAGU,aAAR;AACAT,QAAAA,MAAM,GAAGF,IAAI,CAACO,IAAL,CAAUC,MAAV,CAAiBC,KAAjB,CAAuBN,WAAvB,EAAoCF,KAApC,CAA0CY,OAA1C,CAAkD,CAAlD,EAAqDC,IAA9D;AACD;AACF,KAda,CAed;AACA;AACA;AACA;;;AACAC,IAAAA,UAAU,GAAGb,MAAb;AACAN,IAAAA,GAAG,CAACoB,MAAJ,CAAW,UAAX,EAAuB;AAAEf,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,MAAM,EAAEA;AAAxB,KAAvB;AACD,GAtBH,EAuBE,UAAUe,GAAV,EAAe;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,GAArC;AACArB,IAAAA,GAAG,CAACC,QAAJ,CAAa,QAAb;AACD,GA1BH;AA6BA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAhCD;;KAAML,I;AAkCN,eAAeA,IAAf","sourcesContent":["import React from \"react\";\n\nconst Play = (props) => {\n  if (props.spotifyApi.access_token === null) res.redirect(\"/login\");\n  props.spotifyApi.getPlaylist(\"0s2RYa25RwXR5rDAMcpB3P\").then(\n    function (data) {\n      //console.log('Track: ' + JSON.stringify(data.body));\n      let track = \"\";\n      let artist = \"\";\n      while (track === \"\") {\n        const chosenIndex = Math.floor(\n          Math.random() * data.body.tracks.items.length\n        );\n        const possibleTrack =\n          data.body.tracks.items[chosenIndex].track.preview_url;\n        if (possibleTrack != null) {\n          track = possibleTrack;\n          artist = data.body.tracks.items[chosenIndex].track.artists[0].name;\n        }\n      }\n      //const chosenIndex = Math.floor(Math.random() * data.body.tracks.items.length);\n      //console.log('URL: ' + data.body.tracks.items[0].preview_url);\n      //track = data.body.tracks.items[chosenIndex].track.preview_url;\n      //console.log(track);\n      currArtist = artist;\n      res.render(\"play.ejs\", { track: track, artist: artist });\n    },\n    function (err) {\n      console.log(\"Something went wrong!\", err);\n      res.redirect(\"/login\");\n    }\n  );\n\n  return <h1>Play</h1>;\n};\n\nexport default Play;\n"]},"metadata":{},"sourceType":"module"}