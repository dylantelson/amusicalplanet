{"ast":null,"code":"var _jsxFileName = \"/home/dylan/MusicGuessr/a-musical-planet/src/Auth.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from \"react-router-dom\";\nimport { Credentials } from \"./Credentials\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SpotifyWebApi = require(\"spotify-web-api-node\");\n\nconst Auth = () => {\n  //var code = document.URL.split(\"=\")[1];\n  const code = new URLSearchParams(window.location.search).get(\"code\");\n  var spotifyApi = new SpotifyWebApi(Credentials());\n  let token;\n  spotifyApi.authorizationCodeGrant(code).then(function (data) {\n    console.log(\"The token expires in \" + data.body[\"expires_in\"]);\n    console.log(\"The access token is \" + data.body[\"access_token\"]);\n    console.log(\"The refresh token is \" + data.body[\"refresh_token\"]); // Set the access token on the API object to use it in later calls\n\n    spotifyApi.setAccessToken(data.body[\"access_token\"]);\n    spotifyApi.setRefreshToken(data.body[\"refresh_token\"]);\n    token = spotifyApi.access_token;\n  }, function (err) {\n    console.log(\"Something went wrong!\", err);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hello!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Your token is \", token]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/home/dylan/MusicGuessr/a-musical-planet/src/Auth.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","useParams","Credentials","SpotifyWebApi","require","Auth","code","URLSearchParams","window","location","search","get","spotifyApi","token","authorizationCodeGrant","then","data","console","log","body","setAccessToken","setRefreshToken","access_token","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,EAKEC,SALF,QAMO,kBANP;AAOA,SAASC,WAAT,QAA4B,eAA5B;;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,sBAAD,CAA7B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB;AACA,QAAMC,IAAI,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,EAA4CC,GAA5C,CAAgD,MAAhD,CAAb;AAEA,MAAIC,UAAU,GAAG,IAAIT,aAAJ,CAAkBD,WAAW,EAA7B,CAAjB;AAEA,MAAIW,KAAJ;AAEAD,EAAAA,UAAU,CAACE,sBAAX,CAAkCR,IAAlC,EAAwCS,IAAxC,CACE,UAAUC,IAAV,EAAgB;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAA0BF,IAAI,CAACG,IAAL,CAAU,YAAV,CAAtC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAyBF,IAAI,CAACG,IAAL,CAAU,cAAV,CAArC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAA0BF,IAAI,CAACG,IAAL,CAAU,eAAV,CAAtC,EAHc,CAKd;;AACAP,IAAAA,UAAU,CAACQ,cAAX,CAA0BJ,IAAI,CAACG,IAAL,CAAU,cAAV,CAA1B;AACAP,IAAAA,UAAU,CAACS,eAAX,CAA2BL,IAAI,CAACG,IAAL,CAAU,eAAV,CAA3B;AACAN,IAAAA,KAAK,GAAGD,UAAU,CAACU,YAAnB;AACD,GAVH,EAWE,UAAUC,GAAV,EAAe;AACbN,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCK,GAArC;AACD,GAbH;AAeA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,mCAAkBV,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA7BD;;KAAMR,I;AA+BN,eAAeA,IAAf","sourcesContent":["import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useParams,\n} from \"react-router-dom\";\nimport { Credentials } from \"./Credentials\";\nconst SpotifyWebApi = require(\"spotify-web-api-node\");\n\nconst Auth = () => {\n  //var code = document.URL.split(\"=\")[1];\n  const code = new URLSearchParams(window.location.search).get(\"code\");\n\n  var spotifyApi = new SpotifyWebApi(Credentials());\n\n  let token;\n\n  spotifyApi.authorizationCodeGrant(code).then(\n    function (data) {\n      console.log(\"The token expires in \" + data.body[\"expires_in\"]);\n      console.log(\"The access token is \" + data.body[\"access_token\"]);\n      console.log(\"The refresh token is \" + data.body[\"refresh_token\"]);\n\n      // Set the access token on the API object to use it in later calls\n      spotifyApi.setAccessToken(data.body[\"access_token\"]);\n      spotifyApi.setRefreshToken(data.body[\"refresh_token\"]);\n      token = spotifyApi.access_token;\n    },\n    function (err) {\n      console.log(\"Something went wrong!\", err);\n    }\n  );\n  return (\n    <div>\n      <h1>Hello!</h1>\n      <p>Your token is {token}</p>\n    </div>\n  );\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}